# 06_AUTONOMY_PLAYBOOK（自律駆動ループ）

## 1) 固定ループ（毎回これ）
1. **観測**：現状（ログ、Issue、既知バグ、DoD未達）を整理  
2. **仮説**：原因と改善案を1つに絞る（1サイクル1改善）  
3. **実装**：最小差分で修正（安全柵に触る場合はテスト先行）  
4. **テスト**：Unit→Integration→必要ならE2E  
5. **評価**：DoDに近づいたか、リスクは増えたか  
6. **記録**：10_CHANGELOG.md に追記、チケット作成（07参照）

---

## 2) 日次/週次の運用
### 日次（短時間）
- 1改善だけ選ぶ（バグ修正 or テスト増強 or UX1点）
- 実装→テスト→報告フォーマットで提出（90参照）

### 週次（まとめ）
- Gate A/B/C のどこにいるか確認
- リスク台帳（09）を更新
- 次週の改善候補を最大3つに絞る

---

## 3) AIが勝手にやって良いこと / ダメなこと
### 勝手にやって良いこと
- リファクタ（境界分割、命名改善）※挙動が変わらない範囲
- テスト追加、ログ改善、エラーメッセージ改善
- 同期・復元UIの“表示”改善（仕様変更を伴わない）

### 勝手にやってダメなこと（要チケット）
- データモデルの破壊的変更（migrations必須）
- 同期間隔/挙動を大きく変える（pull停止など）
- 削除/全消し/復元など破壊操作のフロー変更
- 依存ライブラリの大量追加（理由と代替案を提示）

---

## 4) 証拠の出し方（うぜんが判断できる形）
- 変更差分（要約 + 影響範囲）
- テスト結果（成功/失敗、失敗なら原因と最小修正）
- リスク（増えた/減った、ロールバック手順）
- 次の提案（最大3つ）
